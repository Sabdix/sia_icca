
@{
    ViewBag.Title = "Nueva Solicitud";
    Layout = "~/Views/Shared/_LayoutViaticos.cshtml";
    <script>
        nodoMenu = "solicitud";
        submenu = "";
    </script>
}
@model IICA.Models.Entidades.Viaticos.SolicitudViatico
@using System.Web.Script.Serialization;

<ul class="breadcrumb">
    <li>
        <p>VIATICOS</p>
    </li>
    <li><a href="#" class="active">Registro de Solicitud</a> </li>
</ul>

<div class="row">
    <div class="col-md-12">
        <ul class="nav nav-tabs" role="tablist">
            <li class="active">
                <a href="#tab-tipoViaje" role="tab" data-toggle="tab">Tipo de viaje</a>
            </li>
            <li>
                <a href="#tab-propositoResultados" role="tab" data-toggle="tab">Propósito y resultados</a>
            </li>
            <li>
                <a href="#tab-itinerario" role="tab" data-toggle="tab">Itinerario</a>
            </li>
            <li>
                <a href="#tab-importeExt" role="tab" data-toggle="tab">Importe extras</a>
            </li>
            <li>
                <a href="#tab-resumen" role="tab" data-toggle="tab">Resumen</a>
            </li>
        </ul>
        <div class="tools">
            <a href="javascript:;" class="collapse"></a>
            <a href="#grid-config" data-toggle="modal" class="config"></a>
            <a href="javascript:;" class="reload"></a>
            <a href="javascript:;" class="remove"></a>
        </div>
        <div class="tab-content">
            <div class="tab-pane active" id="tab-tipoViaje">
                <div class="col-md-12">
                    <h3>
                        <span class="semi-bold">Tipo</span> de viaje
                    </h3>
                    <div class="col-md-10 col-sm-10 col-md-10 col-vlg-offset-2">
                        <form id="form-tipoViaje">
                            <div class="row form-row">
                                <div class="col-md-4">
                                    <label class="form-label">Fecha de solitud</label>
                                    @Html.TextBoxFor(x => x.fechaAlta, new { @class = "form-control" })
                                    @Html.ValidationMessageFor(x => x.fechaAlta, "", new { @class = "error" })
                                </div>
                            </div>
                            <div class="row form-row">
                                <div class="col-md-4">
                                    <label class="form-label">Tipo de viaje</label>
                                    @Html.DropDownListFor(x => x.tipoViaje.idTipoViaje, (IEnumerable<SelectListItem>)ViewBag.TiposViaje, "SELECCIONE EL TIPO DE VIAJE",
                                 new { @class = "select-iica", style = "width: 100%;" })
                                    @Html.ValidationMessageFor(x => x.tipoViaje.idTipoViaje, "", new { @class = "error" })
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Tipo de transportación</label>
                                    @Html.DropDownListFor(x => x.medioTransporte.idMedioTransporte, (IEnumerable<SelectListItem>)ViewBag.TiposMediosTrasnporte, "SELECCIONE EL TIPO DE TRASNPORTE",
                                  new { @class = "select-iica", style = "width: 100%;" })
                                    @Html.ValidationMessageFor(x => x.medioTransporte.idMedioTransporte, "", new { @class = "error" })
                                </div>
                            </div>
                            <div class="row form-row"><br /></div>
                            <div class="row form-row">
                                <div class="col-md-4">
                                    <label class="form-label">Fecha de inicio</label>
                                    @Html.TextBoxFor(x => x.fechaInicio, new { @class = "form-control" })
                                    @Html.ValidationMessageFor(x => x.fechaInicio, "", new { @class = "error" })
                                </div>
                                <div class="col-md-4">
                                    <label class="form-label">Fecha de fin</label>
                                    @Html.TextBoxFor(x => x.fechaFin, new { @class = "form-control" })
                                    @Html.ValidationMessageFor(x => x.fechaFin, "", new { @class = "error" })
                                </div>
                            </div>
                        </form>
                        <div class="row form-row"><br /></div>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="tab-propositoResultados">
                <div class="row">
                    <div class="col-md-12">
                        <h3>
                            <span class="semi-bold">Propósito y</span> resultados
                        </h3>
                        <div class="col-md-10 col-sm-10 col-md-10 col-vlg-offset-2">
                            <form id="form-proposito">
                                <div class="row form-row">
                                    <div class="col-md-8">
                                        <label class="form-label">Propósito</label>
                                        @Html.TextAreaFor(x => x.proposito, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(x => x.proposito, "", new { @class = "error" })
                                    </div>
                                </div>
                                <div class="row form-row">
                                    <div class="col-md-8">
                                        <label class="form-label">Resultados esperados</label>
                                        @Html.TextAreaFor(x => x.resultadosEsperados, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(x => x.resultadosEsperados, "", new { @class = "error" })
                                    </div>
                                </div>
                                <div class="row form-row">
                                    <div class="col-md-4">
                                        <label class="form-label">Justificación</label>
                                        @Html.DropDownListFor(x => x.justificacion.idJustificacion, (IEnumerable<SelectListItem>)ViewBag.TiposJustificacion, "SELECCIONE LA JUSTIFICACIÓN",
                                   new { @class = "select-iica", style = "width: 100%;" })
                                        @Html.ValidationMessageFor(x => x.justificacion.idJustificacion, "", new { @class = "error" })
                                    </div>
                                </div>
                                <div class="row form-row">
                                    <div class="col-md-8">
                                        <label class="form-label">Condiciones especiales</label>
                                        @Html.TextAreaFor(x => x.condicionesEspeciales, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(x => x.condicionesEspeciales, "", new { @class = "error" })
                                    </div>
                                </div>
                            </form>
                            <div class="row form-row"><br /></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="tab-itinerario">
                <div class="row">
                    <div class="col-md-12">
                        <h3><span class="semi-bold">Itinerario del</span> viaje</h3>
                        <div class="grid simple ">
                            <div class="grid-title">
                                <h4>Itinerario <span class="semi-bold">de ida</span></h4>
                                <button type="button" onclick="MostrarModalAddItinerario(1)" style="float: right" class="btn btn-info btn-xs btn-mini">
                                    <i class="fa fa-plus-circle"></i>&nbsp;Agregar
                                </button>
                            </div>
                            <div class="grid-body ">
                                <table class="table table-hover no-more-tables" style="text-align: center;" id="tabla-itinerarioIda">
                                    <thead>
                                        <tr>
                                            <th style="width:10%;text-align: center;">Origen</th>
                                            <th style="width:10%;text-align: center;">Destino</th>
                                            <th style="width:10%;text-align: center;">Medio de transporte</th>
                                            <th style="width:10%;text-align: center;">Linea / No. de vuelo</th>
                                            <th style="width:10%;text-align: center;">Fecha de salida</th>
                                            <th style="width:10%;text-align: center;">Fecha de llegada</th>
                                            <th style="width:10%;text-align: center;">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Morelia</td>
                                            <td>México</td>
                                            <td>Terrestre</td>
                                            <td>1231</td>
                                            <td>@DateTime.Now</td>
                                            <td>@DateTime.Now.AddDays(1)</td>
                                            <td>
                                                <span data-toggle="modal" data-target="#modal-enviar" onclick="">
                                                    <button data-toggle="tooltip" title="Modificar" class="btn btn-info btn-mini">
                                                        <i class="fa fa-check-square-o"></i>
                                                    </button>
                                                </span>
                                                <span data-toggle="modal" data-target="#modal-cancelar" onclick="">
                                                    <button data-toggle="tooltip" title="Eliminar" class="btn btn-warning btn-mini">
                                                        <i class="fa fa-close"></i>
                                                    </button>
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Morelia</td>
                                            <td>México</td>
                                            <td>Terrestre</td>
                                            <td>1231</td>
                                            <td>@DateTime.Now</td>
                                            <td>@DateTime.Now.AddDays(1)</td>
                                            <td>
                                                <span data-toggle="modal" data-target="#modal-enviar" onclick="">
                                                    <button data-toggle="tooltip" title="Modificar" class="btn btn-info btn-mini">
                                                        <i class="fa fa-check-square-o"></i>
                                                    </button>
                                                </span>
                                                <span data-toggle="modal" data-target="#modal-cancelar" onclick="">
                                                    <button data-toggle="tooltip" title="Eliminar" class="btn btn-warning btn-mini">
                                                        <i class="fa fa-close"></i>
                                                    </button>
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Morelia</td>
                                            <td>México</td>
                                            <td>Terrestre</td>
                                            <td>1231</td>
                                            <td>@DateTime.Now</td>
                                            <td>@DateTime.Now.AddDays(1)</td>
                                            <td>
                                                <span data-toggle="modal" data-target="#modal-enviar" onclick="">
                                                    <button data-toggle="tooltip" title="Modificar" class="btn btn-info btn-mini">
                                                        <i class="fa fa-check-square-o"></i>
                                                    </button>
                                                </span>
                                                <span data-toggle="modal" data-target="#modal-cancelar" onclick="">
                                                    <button data-toggle="tooltip" title="Eliminar" class="btn btn-warning btn-mini">
                                                        <i class="fa fa-close"></i>
                                                    </button>
                                                </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Morelia</td>
                                            <td>México</td>
                                            <td>Terrestre</td>
                                            <td>1231</td>
                                            <td>@DateTime.Now</td>
                                            <td>@DateTime.Now.AddDays(1)</td>
                                            <td>
                                                <span data-toggle="modal" data-target="#modal-enviar" onclick="">
                                                    <button data-toggle="tooltip" title="Modificar" class="btn btn-info btn-mini">
                                                        <i class="fa fa-check-square-o"></i>
                                                    </button>
                                                </span>
                                                <span data-toggle="modal" data-target="#modal-cancelar" onclick="">
                                                    <button data-toggle="tooltip" title="Eliminar" class="btn btn-warning btn-mini">
                                                        <i class="fa fa-close"></i>
                                                    </button>
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="grid simple ">
                            <div class="grid-title">
                                <h4>Itinerario <span class="semi-bold">de regreso</span></h4>
                                <button type="button" id="btn-guardar-sol" style="float: right" class="btn btn-info btn-xs btn-mini">
                                    <i class="fa fa-plus-circle"></i>&nbsp;Agregar
                                </button>
                            </div>
                            <div class="grid-body ">
                                <table class="table table-hover table-condensed" style="text-align: center;" id="tabla-mis-incapacidades">
                                    <thead>
                                        <tr>
                                            <th style="width:10%;text-align: center;">Origen</th>
                                            <th style="width:10%;text-align: center;">Destino</th>
                                            <th style="width:10%;text-align: center;">Medio de transporte</th>
                                            <th style="width:10%;text-align: center;">Linea / No. de vuelo</th>
                                            <th style="width:10%;text-align: center;">Fecha de salida</th>
                                            <th style="width:10%;text-align: center;">Fecha de llegada</th>
                                            <th style="width:10%;text-align: center;">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Morelia</td>
                                            <td>México</td>
                                            <td>Terrestre</td>
                                            <td>1231</td>
                                            <td>@DateTime.Now</td>
                                            <td>@DateTime.Now.AddDays(1)</td>
                                            <td>
                                                <span data-toggle="modal" data-target="#modal-enviar" onclick="">
                                                    <button data-toggle="tooltip" title="Modificar" class="btn btn-info btn-mini">
                                                        <i class="fa fa-check-square-o"></i>
                                                    </button>
                                                </span>
                                                <span data-toggle="modal" data-target="#modal-cancelar" onclick="">
                                                    <button data-toggle="tooltip" title="Eliminar" class="btn btn-warning btn-mini">
                                                        <i class="fa fa-close"></i>
                                                    </button>
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane" id="tab-importeExt">
                <div class="row">
                    <div class="col-md-12">
                        <h3>
                            <span class="semi-bold">Gastos</span> extras
                        </h3>
                        <div class="row column-seperation">
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <label class="form-label">Gasto</label>
                                    <select class="select-iica" id="gasto">
                                        <option value="0">Seleccionar</option>
                                        <option value="1">Transporte Aéreo</option>
                                        <option value="2">Peaje / Gasolina</option>
                                        <option value="2">Autobús</option>
                                    </select>
                                    <span class="error field-validation-valid" data-valmsg-for="gasto" data-valmsg-replace="true"></span>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Monto:</label>
                                    <input type="text" id="monto" placeholder="Monto" class="form-control" />
                                    <span class="error field-validation-valid" data-valmsg-for="monto" data-valmsg-replace="true"></span>
                                </div>
                                <div class="col-md-3">
                                    <label style="color:#fff;" class="form-label">-</label>
                                    <button type="button" id="btn-guardar-sol" class="btn btn-info btn-xs btn-mini">
                                        <i class="fa fa-plus-circle"></i>&nbsp;Agregar
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <label class="form-label">Otros gastos (especificar)</label>
                                    <textarea type="text" id="otrosGastos" placeholder="Otros gastos (especificar)" class="form-control"></textarea>
                                    <span class="error field-validation-valid" data-valmsg-for="otrosGastos" data-valmsg-replace="true"></span>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Monto:</label>
                                    <input type="text" id="monto" placeholder="Monto" class="form-control" />
                                    <span class="error field-validation-valid" data-valmsg-for="monto" data-valmsg-replace="true"></span>
                                </div>
                                <div class="col-md-3">
                                    <label style="color:#fff;" class="form-label">-</label>
                                    <button type="button" id="btn-guardar-sol" class="btn btn-info btn-xs btn-mini">
                                        <i class="fa fa-plus-circle"></i>&nbsp;Agregar
                                    </button>
                                </div>
                            </div>
                            <div class="row form-row"><br /></div>
                        </div>
                        <br /><br />
                        <div class="row">
                            <div class="grid simple ">
                                <div class="grid-title">
                                    <h4>Lista <span class="semi-bold">de gastos</span></h4>
                                </div>
                                <div class="grid-body ">
                                    <table class="table table-hover table-condensed" style="text-align: center;" id="tabla-mis-incapacidades">
                                        <thead>
                                            <tr>
                                                <th style="width:10%;text-align: center;">Gasto</th>
                                                <th style="width:10%;text-align: center;">Monto</th>
                                                <th style="width:10%;text-align: center;">Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Transporte Aereo</td>
                                                <td>$1500.00</td>
                                                <td>
                                                    <span data-toggle="modal" data-target="#modal-enviar" onclick="">
                                                        <button data-toggle="tooltip" title="Modificar" class="btn btn-info btn-mini">
                                                            <i class="fa fa-check-square-o"></i>
                                                        </button>
                                                    </span>
                                                    <span data-toggle="modal" data-target="#modal-cancelar" onclick="">
                                                        <button data-toggle="tooltip" title="Eliminar" class="btn btn-warning btn-mini">
                                                            <i class="fa fa-close"></i>
                                                        </button>
                                                    </span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="tab-pane" id="tab-resumen">
                <div class="row">
                    <div class="col-md-12">
                        <h3><span class="semi-bold">Resumen</span> del viaje</h3>
                        <button type="button" id="btn-guardar-solViatico">Guardar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modal-itinerario" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content" id="content-md-itinerario">

            </div>

        </div>

    </div>


    @section scripts {

        <link href="~/Content/assets/plugins/bootstrap-select2/select2.css" rel="stylesheet" />
        @* Son para el estilo de los select ya que estan en el layout pero no funcionan si no estan en cada vista *@
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="~/Content/webarch/css/webarch.css" rel="stylesheet" type="text/css" />

        <link href="~/Content/assets/plugins/jquery-datatable/css/jquery.dataTables.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/assets/plugins/datatables-responsive/css/datatables.responsive.css" rel="stylesheet" type="text/css" media="screen" />

        <link href="~/Content/assets/plugins/bootstrap-datepicker/css/datepicker.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/assets/plugins/bootstrap-timepicker/css/bootstrap-timepicker.css" rel="stylesheet" type="text/css" />
        <link href="~/Content/assets/plugins/boostrap-clockpicker/bootstrap-clockpicker.min.css" rel="stylesheet" type="text/css" media="screen" />

        <script src="~/Content/assets/plugins/bootstrap-select2/select2.min.js"></script>

        <script src="~/Content/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js" type="text/javascript"></script>
        <script src="~/Content/assets/plugins/bootstrap-timepicker/js/bootstrap-timepicker.min.js" type="text/javascript"></script>
        <script src="~/Content/assets/plugins/boostrap-clockpicker/bootstrap-clockpicker.min.js" type="text/javascript"></script>

        <script src="~/Content/assets/plugins/jquery-datatable/js/jquery.dataTables.min.js" type="text/javascript"></script>


        <script src="~/Scripts/jquery.validate.min.js"></script>
        <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
        <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>

        <script src="~/Content/assets/plugins/moment/moment.min.js"></script>

        <script>
            //Catalogos
            var mediosTransportes;
            mediosTransportes = @Html.Raw(new JavaScriptSerializer().Serialize(ViewBag.TiposMediosTrasnporte))
        </script>

        <script src="~/Content/assets/js/Evt/Viativos/evtNuevaSolViatico.js"></script>
    }
